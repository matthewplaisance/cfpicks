(()=>{"use strict";var e,t,o,n,r,i={353:(e,t,o)=>{o.d(t,{LS:()=>s,m_:()=>a});var n=o(977),r=o(281),i=o(679);const l=(0,n.ZF)({apiKey:"AIzaSyC8J8_Bo2YSeM1aTkE3--bQLCaeuGU3hQE",authDomain:"cfpicks-66e14.firebaseapp.com",projectId:"cfpicks-66e14",storageBucket:"cfpicks-66e14.appspot.com",messagingSenderId:"924459609957",appId:"1:924459609957:web:c1125a2a8f5147de313b8c"}),c=(0,r.v0)(l),a=((0,i.N8)(),()=>{c.onAuthStateChanged((e=>{if(e)console.log("user mon :>> ",e),localStorage.uid=e.uid,"index.html"==window.location.pathname.split("/").pop()&&(window.location.href="./profile.html");else{const e=window.location.pathname.split("/").pop();if(console.log("currPage :>> ",e),"index.html"!=e){window.location.replace("index.html");const e=window.history.state;window.history.replaceState(e,"",window.location.href),window.onpopstate=function(){window.history.replaceState(e,"",window.location.href)}}}}))}),s=()=>(sessionStorage.removeItem("siteSelection"),(0,r.w7)(c))},706:(e,t,o)=>{o.a(e,(async(e,t)=>{try{var n=o(679),r=o(353),i=o(981);async function l(e,t){const o=document.getElementById("err_msg");Math.floor((new Date).getTime()/1e3),console.log("picks :>> ",t);for(let e in t){if("null"==t[e].points||null==t[e].points||null==t[e].points)return o.innerText=`Select confidence points for ${e}.`,void(o.style.color="red");if("null"==t[e].pick||null==t[e].pick||null==t[e].pick)return o.innerText=`Select winner for ${e}. `,void(o.style.color="red")}try{o.innerText="Submitting...",o.style.color="black";for(let r in t){const i=t[r];try{await(0,n.t8)((0,n.iH)(u,`users/${p}/${e}/${r}`),{pick:i.pick,points:String(i.points)}),console.log("set :>> ",i)}catch(e){console.log("error :>> ",e),o.innerText=`FB Err: ${e}`,o.style.color="red"}}o.innerText="Submitted!",o.style.color="green"}catch(e){console.log("err :>> ",e),o.innerText=`FB Err: ${e}`,o.style.color="red"}}function c(e){for(let t in e){const o=document.getElementById(t);if(!o)continue;const n=o.querySelectorAll(".team"),r=o.parentNode.querySelectorAll(".box");n.forEach((o=>{o.textContent==e[t].pick&&(o.style.color=f)})),r.forEach((o=>{o.textContent==e[t].points&&(o.style.background=f)}))}let t=document.getElementById("tb");t&&(e.hasOwnProperty("tb")?t.value=e.tb.pick:document.getElementById("tb").value=0)}async function a(){let e;return console.log("picks :>> ",e),await new Promise(((t,o)=>{console.log("refer :>> ",h),(0,n.jM)(h,(o=>{const n=o.val();console.log("data :>> ",n),e=n,t()}))})),console.log("object"),e}function s(e,t,o,n){const r=!e.hasOwnProperty("away"),i=document.createElement("div");i.className="col-xl-3 col-lg-3 col-md-3 col-sm-6 mb-4";const l=document.createElement("div");l.className="card card-statistics";const c=document.createElement("div");c.className="card-body";const a=document.createElement("div");a.className="clearfix",a.id=t;const s=document.createElement("i");s.className="time",s.id=e.time,s.setAttribute("aria-hidden","true");const d=document.createElement("div");d.className="float-left";const p=document.createElement("h4");p.className="bold-text team",p.id=`g${n}t1`,p.style.cursor="pointer",p.textContent=e.away;const u=document.createElement("div");u.className="float-right";const m=document.createElement("h4");m.className="bold-text team",m.id=`g${n}t2`,r&&(m.className="bold-text",m.style.fontSize=6),m.style.cursor="pointer",m.textContent=e.home;const h=document.createElement("p");if(h.className="text-muted",h.innerHTML=`<i class="fa fa-calendar mr-1" aria-hidden="true"></i>${e.humanDate}`,d.appendChild(p),u.appendChild(m),a.appendChild(s),a.appendChild(d),a.appendChild(u),c.appendChild(a),c.appendChild(h),e.hasOwnProperty("away"))for(let e=1;e<=13;e++){const t=document.createElement("div");t.className="box",t.textContent=e,t.id=e,v.includes(String(e))&&(t.style.background=g),c.appendChild(t)}else{const e=document.createElement("input");e.value=0,e.id="tb",e.className="form__input",c.append(e)}l.appendChild(c),i.appendChild(l),o.appendChild(i)}function d(e,t){const o=document.getElementById("card-wrapper");for(;o.firstChild;)o.removeChild(o.firstChild);if(e.hasOwnProperty(t)){let n=1;for(let r in e[t])s(e[t][r],r,o,n),n++}}(0,r.m_)(),$(document).ready((function(){$("#header").load("../src/pages/header.html")}));const p=localStorage.uid;console.log("uid :>> ",p);const u=(0,n.N8)(),m=document.getElementById("selected-week").textContent.replace(" ","").toLocaleLowerCase(),h=(0,n.iH)(u,`users/${p}`),f="#FF8000",y="rgb(255, 128, 0)",g="#9494b8";console.log("db :>> ",u);let b=await a(),w={};b&&(b.hasOwnProperty(m)&&(w=b[m]),b.hasOwnProperty("name")&&(localStorage.displayName=b.name));const k=await(0,i.AVB)("../data/games.json");let v=[];for(let C in w)v.push(String(w[C].points));d(k,m),c(w);const x=document.querySelectorAll(".team"),E=document.getElementById("submit"),S=document.querySelectorAll(".box");x.forEach((e=>{e.addEventListener("click",(function(){const e=document.getElementById(this.id).parentElement.parentElement,t=e.querySelector(".time").id;if(Math.floor((new Date).getTime()/1e3)>t){let t=document.getElementById("err_msg");return t.innerText=`Cannot change pick for ${e.id}, it has already kickoffed`,void(t.style.color="red")}this.style.color=f;const o=e.querySelectorAll(".team");let n=null;w.hasOwnProperty(e.id)&&(n=w[e.id].points),w[e.id]={pick:this.textContent,points:n},o.forEach((e=>{e.textContent!=this.textContent&&(e.style.color="black")}))}))})),S.forEach((e=>{e.addEventListener("click",(function(){const e=this.parentNode,t=e.querySelectorAll(".box"),o=e.querySelector(".clearfix"),n=(o.querySelectorAll(".team"),e.querySelector(".time").id);if(Math.floor((new Date).getTime()/1e3)>n){let e=document.getElementById("err_msg");return e.innerText=`Cannot change points for ${o.id}, it has already kickoffed`,void(e.style.color="red")}if(v.includes(this.textContent)){if(w.hasOwnProperty(o.id)&&w[o.id].points==this.textContent)return v=v.filter((e=>e!==w[o.id].points)),w[o.id].points=null,this.style.background="whitesmoke",w[o.id].pick||delete w[o.id],void document.querySelectorAll(".box").forEach((e=>{e.id==this.id&&(e.style.background="whitesmoke")}));let e=document.getElementById("err_msg");return e.innerText="You cannot repeat confidence points",void(e.style.color="red")}document.getElementById("err_msg").innerText="",this.style.background=f;let r=null;w.hasOwnProperty(o.id)&&(w[o.id].hasOwnProperty("points")&&(v=v.filter((e=>e!==w[o.id].points))),r=w[o.id].pick),w[o.id]={pick:r,points:this.textContent},t.forEach((e=>{e.textContent!=this.textContent&&(e.style.background="whitesmoke")})),v.push(String(w[o.id].points)),document.querySelectorAll(".box").forEach((e=>{v.includes(e.id)?e.style.background!=y&e.style.background!=f&&(e.style.background=g):e.style.background="whitesmoke"}))}))})),E.addEventListener("click",(function(){const e=document.getElementById("tb");w.tb={pick:String(e.value),points:0},l(m,w)})),document.getElementById("btnLogout").addEventListener("click",r.LS),t()}catch(_){t(_)}}),1)}},l={};function c(e){var t=l[e];if(void 0!==t)return t.exports;var o=l[e]={exports:{}};return i[e](o,o.exports,c),o.exports}c.m=i,e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",o="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",n=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},c.a=(r,i,l)=>{var c;l&&((c=[]).d=-1);var a,s,d,p=new Set,u=r.exports,m=new Promise(((e,t)=>{d=t,s=e}));m[t]=u,m[e]=e=>(c&&e(c),p.forEach(e),m.catch((e=>{}))),r.exports=m,i((r=>{var i;a=(r=>r.map((r=>{if(null!==r&&"object"==typeof r){if(r[e])return r;if(r.then){var i=[];i.d=0,r.then((e=>{l[t]=e,n(i)}),(e=>{l[o]=e,n(i)}));var l={};return l[e]=e=>e(i),l}}var c={};return c[e]=e=>{},c[t]=r,c})))(r);var l=()=>a.map((e=>{if(e[o])throw e[o];return e[t]})),s=new Promise((t=>{(i=()=>t(l)).r=0;var o=e=>e!==c&&!p.has(e)&&(p.add(e),e&&!e.d&&(i.r++,e.push(i)));a.map((t=>t[e](o)))}));return i.r?s:l()}),(e=>(e?d(m[o]=e):s(u),n(c)))),c&&c.d<0&&(c.d=0)},r=[],c.O=(e,t,o,n)=>{if(!t){var i=1/0;for(d=0;d<r.length;d++){for(var[t,o,n]=r[d],l=!0,a=0;a<t.length;a++)(!1&n||i>=n)&&Object.keys(c.O).every((e=>c.O[e](t[a])))?t.splice(a--,1):(l=!1,n<i&&(i=n));if(l){r.splice(d--,1);var s=o();void 0!==s&&(e=s)}}return e}n=n||0;for(var d=r.length;d>0&&r[d-1][2]>n;d--)r[d]=r[d-1];r[d]=[t,o,n]},c.d=(e,t)=>{for(var o in t)c.o(t,o)&&!c.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={845:0};c.O.j=t=>0===e[t];var t=(t,o)=>{var n,r,[i,l,a]=o,s=0;if(i.some((t=>0!==e[t]))){for(n in l)c.o(l,n)&&(c.m[n]=l[n]);if(a)var d=a(c)}for(t&&t(o);s<i.length;s++)r=i[s],c.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return c.O(d)},o=self.webpackChunkprod_1=self.webpackChunkprod_1||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var a=c.O(void 0,[529,981,383],(()=>c(706)));a=c.O(a)})();